---
date: 2020-03-16 15:40:00
layout: post
title: DNS는 무엇이고 어떻게 동작할까?
subtitle: DNS는 무엇이고 어떻게 동작할까?
description: 웹 개발을 하면 자주 보게되는 DNS! DNS가 무엇이고 어떻게 작동하는지 알아보겠습니다.
image: https://i0.wp.com/rsec.kr/wp-content/uploads/2018/03/what-is-dns.png?zoom=2&fit=1240%2C620&ssl=1
optimized_image: https://i0.wp.com/rsec.kr/wp-content/uploads/2018/03/what-is-dns.png?zoom=2&fit=1240%2C620&ssl=1
category: Internet
tags:
  - Internet
  - Back-end
  - Front-end
  - DNS
author: arqhive
---

 웹 개발을 한다면 어떻게 도메인을 통해 웹 서비스를 이용하게 되는지 알아야겠죠? 이번 포스트에서는 웹 개발을 할 때 자주 접하게 되는 용어인 DNS에 대해 간단히 알아보겠습니다!

## DNS란 무엇일까?

DNS(Domain Name System)은 naver.com, google.com과 같이 사람이 이해하기 쉬운 웹 사이트 주소를 컴퓨터가 이해 할 수 있는 주소로 바꾸는 인터넷 프로토콜 입니다.

인터넷에서 통신하는 모든 웹 사이트 또는 서비스에는 고유한 IP주소가 있어 정확하게 해당 사이트 또는 서비스에 접근 할 수 있습니다. 예를 들어 Google에 접근하려는 경우 172.217.172.110 으로 접속 할 수 있습니다.

하지만 사람의 관점에서 봤을때 저런 복잡한 숫자를 매 사이트마다 기억하는 것은 거의 불가능 하거나 또는 경험이 매우 떨어집니다. 172.217.172.110 보단 google.com과 같이 사람에게 친숙한 도메인 이름이 우리가 사이트를 방문하는데 더 외우기 쉽고 도움이 되죠.

따라서 다른 사람에게 서비스를 제공하려는 장치가 있거나 쉽게 찾을 수 있도록 하려면 일반적으로 www로 시작하는 도메인 주소라는 인간친화적 이름을 IP주소와 연결 할 수 있습니다.

DNS는 도메인 이름이 IP 주소로 변환되는 시스템입니다. DNS는 www.somedomain.com 에서 IP주소로의 번역기로 생각할 수 있습니다. 그리고 이 "번역"하는 과정을 "DNS 확인" 이라고 합니다.

DNS는 google.com과 같은 도메인 주소를 컴퓨터에서 읽을 수 있는 "IP 주소"로 변환합니다. 이를 통해 사용자의 컴퓨터는 대상 웹 서버에 연결하여 원하는 정보를 얻을 수 있습니다.

일반적으로 DNS는 사실상 시간이 전혀 걸리지 않는 초고속 프로세스이며, 조회가 완료되면 클라이언트 컴퓨터가 대상 서버에 직접 연결되어 DNS 서버가 다른 요청을 처리 할 수 있는 상태가 됩니다. 거의 모든 사이트에는 DNS를 수행하는 서버가 있지만, 각 사이트 사이에는 비즈니스 연결이 필요하지 않습니다.

## 아주 간략한 역사

약 30년 전, 인터넷이 소개되었을 때 사람들은 방문하고자 하는 웹사이트의 IP주소를 기억해야 했습니다. 컴퓨터는 숫자를 통해서만 통신 할 수 있었습니다. 인터넷 시대가 시작되면서 웹 사이트의 수가 수백에서 수만으로 증가하기 시작했습니다. 이후 IP주소 수가 늘어나게 되면서 사람들이 외우기가 어려워졌습니다. 1980 년대 초 Paul Mockapetris는 도메인 이름을 해당 IP주소에 자동으로 매핑 할 수 있는 시스템을 도입했습니다. 이로 인해 오늘날까지 인터넷의 중추적인 역할을 하고있는 DNS가 탄생했습니다.

## DNS는 어떻게 작동할까?

DNS는 DNS Recursive Resolver, 루트 네임 서버, 최상위 도메인 서버(TLD) 및 Authoritative 서버의 4가지 유형의 서버를 통해 이루어집니다.

전체 순서는 다음과 같이 요약 될 수 있습니다.

**브라우저 > DNS Recursive Resolver > 루트 네임 서버 > 최상위 도메인 서버 > Authoritative 네임 서버**

조금 더 상세한 과정은 아래와 같습니다.

1. 정보 요청 : 도메인 이름을 입력하면 컴퓨터에 특정 호스트 이름을 확인하도록 요청합니다. 컴퓨터가 수행하는 첫 번째 단계는 로컬 DNS 캐시에서 도메인 이름에 해당하는 IP 주소를 찾고 이전에 방문한 웹 사이트에 대한 정보를 저장하는 것입니다. 이전에 해당 웹 사이트를 방문하지 않은 경우 컴퓨터는 DNS 쿼리를 수행합니다.

2. DNS Recursive Resolver 서버 요청 : 정보가 로컬에 저장되어 있지 않은 경우 컴퓨터는 인터넷 서비스 공급자 (ISP)의 Recursive Resolver 확인자 또는 서버에 연결합니다. 이러한 리졸버에는 자체 캐시가 있습니다. 많은 사용자가 동일한 ISP를 사용하므로 일반적이고 널리 사용되는 웹 사이트가 이미 캐시되어있을 가능성이 있습니다. 이 경우 필요한 정보가 사용자에게 반환되고 프로세스가 여기서 종료됩니다.

3. 루트 네임 서버 요청 :  Recursive 서버에서 정보를 제공하지 않거나 데이터가 오래된 경우 루트 네임 서버를 쿼리합니다. 루트 네임 서버는 루트 영역 파일 내용을 인터넷에 게시합니다. 루트 네임 서버는 IP 주소를 제공하지 않지만 필요한 응답을 제공 할 수있는 다른 서버로 쿼리를 리디렉션합니다.

4. 최상위 도메인 (TLD) 네임 서버 :  루트 네임 서버는 요청을 오른쪽에서 왼쪽으로 읽고 최상위 도메인 이네임 서버로 안내합니다. 예를 들어, .com, org 등과 같은 정보는 이를 위한 자체 서버 셋이 있는 TLD에 해당합니다. TLD는 IP 주소를 직접 제공하지 않지만 쿼리를 적절한 서버로 보냅니다.

5. Authoritative 네임 서버 : TLD 서버는 쿼리의 다음 부분을 읽고 Authoritative 네임 서버라는 특정 네임 서버로 보냅니다. 이러한 DNS 서버는 영역(Zone)에 맞게 구성되며 관련 정보를 제공합니다. 원래 영역 레코드를 저장하고 쿼리 결과를 캐시하지 않습니다.

6. 레코드 검색 :  Recursive 서버는 Authoritative 서버에서 필요한 레코드를 검색하여 로컬 캐시에 저장합니다. 이는 동일한 웹 사이트를 다시 방문할때 위의 긴 과정을 생략 하고 보다 빠른 응답을 하는데 도움이 되게 합니다. 모든 레코드는 TTL(Time To Live) 값을 유지하므로 데이터 만료시기를 결정하여 데이터를 항상 최신 상태로 유지할 수 있습니다.

7. 응답 받기 :  Recursive 서버는 필요한 응답을 로컬 컴퓨터에 반환하여 레코드를 캐시합니다. 컴퓨터는 이 레코드를 읽고 IP주소를 브라우저로 반환합니다. 브라우저는 웹 서버에 연결하여 특정 웹 사이트를 열게 됩니다.

이 전체 프로세스는 순식간에 완료됩니다.

> Recursive Resolver 또는 루트 서버에서 성능을 향상시키기 위해 전체 프로세스를 방지하는 DNS 캐싱이 이루어 집니다. 웹 사이트에 대한 IP주소를 얻은 후에는 약 24시간 동안 캐시로 저장하여 동일한 IP 주소를 요청하는 동안 캐시에서 직접 검색하게 됩니다. 캐시된 도메인 네임 서버 정보가 있다면 위에서 설명한 일부 프로세스가 생략되게 됩니다. 이를 DNS 캐싱이라고 합니다.

## 마무리

DNS가 무엇이고 기본적인 DNS 동작에 대해 어느정도 알게 되셨나요? 실제 웹서비를 운영하게 된다면 아마존, 애저 등을 통해 DNS 설정을 하시게 될 수도 있습니다. 추가적으로 DNS 레코드 등에 대해 더 찾아 보신다면 DNS를 이해 하는데 더욱 도움이 될 것 같습니다.

1. [The Guardian](https://www.theguardian.com/technology/2010/dec/03/dns-ip-ddos-explained)
2. [knowledge hut](https://www.knowledgehut.com/blog/cloud-computing/what-is-dns)
3. [linuxhint](https://linuxhint.com/what_is_dns/)
