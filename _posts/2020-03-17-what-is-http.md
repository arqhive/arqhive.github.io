---
date: 2020-03-17 13:09:00
layout: post
title: HTTP는 무엇일까?
subtitle: HTTP는 무엇일까?
description: 웹 개발자가 꼭 알아야 하는 HTTP에 대해 알아봐요!
image: https://4.bp.blogspot.com/-jjcLgGfXmSk/WlQoqzgTjDI/AAAAAAAAAVk/Ldhbtliq9FwdymFYW3xoNAMZUGM0HECTQCLcBGAs/w1200-h630-p-k-no-nu/was-ist-http-t.jpg
optimized_image: https://4.bp.blogspot.com/-jjcLgGfXmSk/WlQoqzgTjDI/AAAAAAAAAVk/Ldhbtliq9FwdymFYW3xoNAMZUGM0HECTQCLcBGAs/w1200-h630-p-k-no-nu/was-ist-http-t.jpg
category: Internet
tags:
  - Internet
  - Back-end
  - Front-end
  - HTTP
author: arqhive
---

# HTTP (HyperText Transfer Protocol)

HTTP에 개념에 대해 간단히 정리하고 지나가 봅시다. 더 깊은 내용들은 실제로 서버를 개발하거나 클라이언트를 개발하면서 배워나가게 될것입니다.

## HTTP 개요

HTTP는 WWW(World Wide Web) 상에서 정보를 주고 받을 수 있게 하는 프로토콜 입니다.
 TCP와 UDP를 사용하며 80번 포트를 사용합니다. 물리적으로 분산된 시스템 간의 통신을 가능하게 하는 응 프로그램 프로토콜 입니다.

> TCP와 UDP는 인터넷 프로토콜 계층중 전송계층에 속해있습니다.

> 월드 와이드 웹(World Wide Web, WWW, W3)은 인터넷에 연결된 컴퓨터를 통해 사람들이 정보를 공유할 수 있는 전 세계적인 정보 공간을 말합니 .

HTTP는 1989년에 팀 버너스리경에 의해 고안되었고 현재는 W3C에 의해 조정되고 있습니다.
웹 페이지가 웹 서버에서 사용자의 브라우저로 통신되는 방식의 기초를 형성합니다. 브라우저를 열면 우리는 이미 간접적으로 HTTP를 사용하게 됩니다.

최초에는 HTML 문서를 주고 받는데 사용하였으나 오늘 날에는 여러가지 리소스 (파일, 이미지, 스크립트) 등을 포함합니다.

> 하이퍼텍스트란 동일한 시스템 내에서든 외부에서든 한 페이지를 다른 페이지에 연결하는 웹 페이지에 사용되는 텍스트를말합니다. 인터넷의 컨텐츠 사이를 연결하는 '링크'입니다. HTML은 HyperText Markup Language의 준말입니다.

## HTTP의 작동 방식

이름의 하이퍼 텍스트 부분에서 알 수 있듯이 HTTP 개념에는 파일에 추가 전송 요청을 유발하는 다른 파일에 대한 참조가 파일에 포함될 수 있다는 개념이 포함됩니다.
제공 할 수 있는 웹 페이지 파일 외에도 모든 웹 서버 시스템에는 HTTP 데몬이 포함되어 있는데 (node.js 혹은 파이썬 장고등으로 웹 서버를 만들때를 생각해보세요), 이는 HTTP 요청을 기다렸다가 도착할 때 처리하도록 설계된 프로그램입니다. 웹 브라우저는 HTTP 클라이언트로써 서버 시스템에 요청을 보냅니다. 브라우저 사용자가 웹 파일을 "열거나"(URL 입력) 하이퍼텍스트 링크를 클릭하여 파일 요청을 하게 되면 브라우저는 HTTP 요청을 작성하여 서버에 전송하게 됩니다. 대상 서버 시스템의 HTTP 데몬은 요청을 수신하고 요청 된 파일(HTML문서를 포함한 다양한 형식의 파일) 또는 요청과 연관된 파일을 다시 보냅니다.

우리는 이걸 클라이언트 - 서버 모델이라고 부릅니다.

이러한 요청과 응답이 전송 될 때 TCP/IP를 사용하여 전선, 광섬유 케이블 및 무선 네트워크를 통해 실제로 전송되는 1과 0의 2진 시퀀스의 작은 패킷으로 정보를 줄이고 전송합니다.

## HTTP의 특징

**1. 비연결지향 (Connectionless)**

클라이언트가(브라우저 혹은, 모바일 애플리케이션 등...) 원하는 요청을 서버에 보내고, 서버가 클라이언트에 요청에 맞는 response를 보내면 바로 연결을 끊습니다. 이로 인해서 불필요한 자원의 낭비를 줄일 수 있습니다. 하지만 채팅이나 게임과 같은 지속적인 연결을 필요로 하는 곳에는 사용하기가 어렵습니다.

**2. 무상태 (Stateless)**

연결을 끊는 순간 클라이언트와 서버의 통신은 끝나며 이전 상태 및 정보를 유지하지 않습니다.


따라서 HTTP는 불특정 다수를 대상으로 하는 서비스에는 적합합니다. 클라이언트와 서버가 계속 연결된 형태가 아니기 때문에 클라이언트와 서버 간의 최대 연결 수보다 훨씬 많은 요청과 응답을 처리할 수 있습니다. 반대로 말하면 연결을 끊어버리기 때문에, 클라이언트의 이전 상황을 알 수가 없습니다. 이러한 특징 때문에 정보를 유지하기 위해서 쿠키나 세션 같은 기술이 등장하게 되었습니다.

## HTTP 메서드

HTTP는 요청 메서드란, 주어진 리소스(보통 URI)에 수행하길 원하는 행동을 클라이언트가 서버에 알려주는것을 나타냅니다. 간혹 요청 메서드를 "HTTP 동사"라고 부르기도 합니다. 각각의 메서드는 서로 다른 의미를 구현하지만, 일부 기능은 메서드 집합 간에 서로 공유하기도 합니다. 이미 서버 혹은 클라이언트를 구현해 보셨다면 REST API를 통해 "GET", "POST"와 같은 메서드를 사용하여 서버에 요청 또는 클라이언트에 응답 해보신적이 있을 겁니다.

HTTP의 메서드는 몇 개의 키워드로 정의되어있고 각 목적에 적합하게 구현되어야 합니다.

**1. GET**

GET 메서드는 특정 리소스의 표시를 요청합니다. GET을 사용하는 요청은 오직 데이터를 받기만 합니다. 브라우저에 https://google.com 을 입력하는 건 해당 URI를 통해 서버의 요청을 전송하는 행위입니다. 우리가 브라우저를 키면 이미 HTTP를 사용한다고 했었죠? 바로 이런 부분이 이미 HTTP를 사용하는 것입니다.

**2. HEAD**

HEAD는 GET과 동일하지만 응답 본문을 포함하지 않습니다. 응답 본문이 무엇인지는 다음 HTTP 메세지에서 설명하겠습니다.

**3. POST**

POST 메서드는 특정 리소스에 엔티티를 제출할 때 쓰입니다. 이는 종종 서버의 상태의 변화나 부작용을 일으킵니다. 예를 들면 어떤 웹사이트에서 회원가입을 할 때 입력한 정보를 서버에 제출하게 됩니다. 서버는 해당 데이터를 받아 데이터베이스에 새로운 데이터를 추가, 또는 수정 하게되겠죠? 보통 브라우저에서 입력이나 파일 업로드 같은 데이터가 포함되면 POST 메서드를 사용합니다.

**4. PUT**

PUT은 POST와 비슷하지만 조금은 다릅니다. 서버에 POST 요청을 아래와 같이 보낸다고 가정해 봅시다.

```
POST /members HTTP/1.1
{ name: "ARQHIVE", age: 5, favorite: "JavaScript" }
```

해당 요청을 계속해서 보낸다면 동일한 값을 가진 데이터가 계속해서 생성(혹은 서버안의 어떤 부작용이) 될 것입니다. 이것을 '멱등'하지 않다고 합니다.

반면 PUT은

```
PUT /members/1 HTTP/1.1
{ name: "ARQHIVE", age: 5, favorite: "JavaScript" }
```

메서드 말고 차이를 발견하셨나요? 바로 `/1`의 존재입니다. PUT은 해당 자원의 정확한 식별자를 가지고 요청해야 합니다. 즉 POST와 다르게 데이터를 새로 생성하지 않는다는 이야기죠. 저 요청을 몇번을 보내도 동일한 결과를 보장하므로 이것을 '멱등'하다고 합니다.

흔히 POST를 CRUD의 C(create) PUT은 U(update)의 의미를 부여합니다. 위의 설명을 보면 그 의미가 어느정도는 일치함을 알 수 있겠네요.

**5. DELETE**

DELETE 메서드는 특정 리소스를 삭제합니다. 이름만 봐도 느낌이 팍.

**6. CONNECT**

CONNECT 메소드는 요청한 리소스에 대해 양방향 연결을 시작하는 메소드입니다. 이는 터널을 열기 위해서 사용될 수 있습니다.

**7. OPTIONS**

요청할 서버에서 지원되는 메서드의 종류를 확인할 경우 사용합니다. 어렵게 말하자면 목표 리소스와의 통신 옵션을 설명하기 위해 사용됩니다.

**8. TRACE**

원격지 서버에 루프백 메시지 호출하기 위해 테스트용으로 사용합니다.

**9. PATCH**

PUT과 유사하게 요청된 자원을 수정(UPDATE)할 때 사용합니다. PUT의 경우 자원 전체를 갱신하는 의미지만, PATCH는 해당자원의 일부를 교체하는 의미로 사용한다 하여 최근에는 좀 더 UPDATE에 가까운 의미로 평가 받고 있습니다.

이러한 메서드를 통해 서버에 요청을 보내게 되면 HTTP 는 프로토콜에 의해 결정된 적절한 상태 코드 ('서버 응답'이라고도 함)를 제공합니다. 상태코드는 다양하지만 대략 다음과 같습니다.

1xx – 조건부 응답
2xx – 요청에 대한 성공, (예: 200 OK – 파일을 찾았습니다.)
3xx – 다른 URL로 리다이렉션 (예: 301 - 영구적으로 다른 URL로 이동)
4xx – 클라이언트측 오류 (예 : 404 – 파일을 찾을 수 없음)
5xx – 서버측 오류 (예 : 500 서버 오류)

## HTTP 메세지

HTTP 메시지는 서버와 클라이언트 간에 데이터가 교환되는 방식입니다. 여기서는 메세지에 대해 자세히 알아보지는 않고 어떤 형태로 생겼는지 간단히 알아보겠습니다.

 메시지 타입은 두 가지가 있습니다. 요청(request)은 클라이언트가 서버로 전달해서 서버의 액션이 일어나게끔 하는 메시지고, 응답(response)은 요청에 대한 서버의 답변입니다.

웹 개발자, 또는 사용자가 HTTP 메세지를 직접 작성하는 경우는 드뭅니다. 대신에 소프트웨어, 브라우저, 프록시, 또는 웹 서버가 그 일을 합니다. HTTP 메시지는 설정 파일(프록시 혹은 서버의 경우), API(브라우저의 경우), 혹은 다른 인터페이스를 통해 제공됩니다.

HTTP 요청과 응답의 구조는 서로 닮았으며, 그 구조는 다음과 같습니다.

1. 시작 줄(start-line)에는 실행되어야 할 요청, 또은 요청 수행에 대한 성공 또는 실패가 기록되어 있습니다. 이 줄은 항상 한 줄로 끝납니다.

2. 옵션으로 HTTP 헤더 세트가 들어갑니다. 여기에는 요청에 대한 설명, 혹은 메시지 본문에 대한 설명이 들어갑니다.

3. 요청에 대한 모든 메타 정보가 전송되었음을 알리는 빈 줄(blank line)이 삽입됩니다.
4. 요청과 관련된 내용(HTML 폼 콘텐츠 등)이 옵션으로 들어가거나, 응답과 관련된 문서(document)가 들어갑니다. 본문의 존재 유무 및 크기는 첫 줄과 HTTP 헤더에 명시됩니다.

HTTP 메시지의 시작 줄과 HTTP 헤더를 묶어서 요청 헤드(head)라고 부르며, 이와 반대로 HTTP 메시지의 페이로드는 본문(body)이라고 합니다.

![HTTP 메세지 구조](/assets/HTTPMsgStructure2%2014.39.43_ke9on6724.png)

출처: MDN

모양은 조금씩 다르지만 브라우저 마다 개발자 도구를 열어 HTTP 메세지를 확인 할 수 있습니다.

## HTTPS

최근엔 많은 웹사이트가 https를 사용하고 있다는걸 알고 계실겁니다. 간단하게 설명하자면 HTTPS란 TLS를 사용해 암호화된 연결을 하는 HTTP를 HTTPS(Secure)라고 하며, 웹사이트 주소가 http://가 아닌 https://로 시작됩니다. 기본 포트는 80번이 아닌 443번을 사용합니다.

HTTP와 비교하자면 신용카드번호 및 기타 중요한 개인정보형식과 같은 데이터가 암호화됩니다. 이렇게하면 악의를 가진 사용자가 이러한 양식의 중요한 데이터에 접근 못하게됩니다.

HTTPS를 사용한다는건 사용자에게 신뢰도를 상승시켜주는 중요한 요인중 하나입니다.

참고자료
1. [MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Messages)
